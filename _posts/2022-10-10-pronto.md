---
title:  "Pronto二三事"
date:   2022-10-10 23:15
ref:    pronto
---


2016年刚移民到墨尔本的时候, 我没有澳洲的工作经验, 也不太清楚哪些公司靠谱哪些不靠谱. 简历投了几个还中意的公司(现在看也都不算好公司), 也没有明确的结果. 闲着也是闲着, 我就参加了不少meetup活动. 在一个meetup上就遇到了一个合适的工作机会, 想着至少能够让简历好看一点点, 就接受了. 这段经历不算特别开心, 下文会解释.

我入职时拿到手的是一台Windows笔记本, 这该算是第一个不算太好的信号. 虽然后来了解到有部分还算不错的公司也会提供Windows电脑, 但是其他家(正常一点的单位)要么追求轻薄要么追求性能, 一般没有傻到追求性价比的.

入职后了解到所在的组是隶属于Pronto这个做CRM的公司, 利用这个CRM软件提供开网店的功能, CRM本身不提, 开网店的部分是RoR加jruby. 技术栈本身不复杂, 主要的复杂度在于各个不同的客户的需求都要满足, 经常会造成各个版本的不一致. 而且机器被要求使用Pronto所提供的虚拟机, 所以虚拟化里面有时候比较捉急.

说起虚拟化捉急, 就想起一次一个故障. 当时我为了方便调试和管理, 在每台机器上每五分钟跑一个脚本做一个snapshot, 能够看到当时机器上所有进程, 磁盘io, 网络端口等情况. 这本是一个无心之举, 主要是为了自己做优化而提供基准数据. 结果当时后面的虚拟机出了故障, 记得不错的话是磁盘io诡异地固定为一个非零的值. 本来那边还不认我们的故障报告, 后来看到我这儿有原始数据, 才认真调查了下, 回报我们说是EMC的存储有问题, 会联系厂家云云. 后来我推AWS的使用, 一个依据就是至少比Pronto本身提供的虚拟机靠谱. 结果经理面露难色, 说Pronto会认为AWS是我们的竞争对手, 所以不能用AWS的机器, 至少不能大张旗鼓地用. 这么自大的想法, 回忆起来就摇头.

说回Windows的笔记本, 为此我还和Pronto的IT闹得很不愉快. 原因是我需要一个Linux/UNIX的编程环境, 最简单直接的办法是装一个虚拟机, 结果Pronto那边的IT很不满意, 因为理论上这台虚拟的Linux也需要他们管理, 但是他们又没有能力管理这样的机器, 所以只能建议我将这台虚拟机的网络设为host-only. 而且企业IT管理是能够在不被我知晓的情况下远程登陆到我的机器的. 在争取了几次之后, 我老老实实地将虚拟机的网络设置成了host-only. 但是我在告知了同组的另一个同事后做了一个hack, 让这台虚拟机也能够正常使用网络. 具体做法记不太清楚了, 好像是Windows上跑WSL, 里面运行一个Privoxy和一个到虚拟机的SSH连接, 把Privoxy的代理端口转发进虚拟机里去. 这一方面让人享受创造的乐趣, 也大感为了规避这些规章制度而浪费生命很是无聊.

上面说了这么多不开心的, 后面促使我离职的是厕所. Pronto办公地的厕所没什么特别的, 一个正常的厕所而已. 而我某一次参加Ansible的meetup时在微软的墨尔本办公室, 去了一下装潢精美而现代的厕所后就想起了李斯. 于是工作满一年后就赶快离职跳槽了.
